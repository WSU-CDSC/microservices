# Notes for `vid2watson.sh` and `watson2vtt.rb`

These two scripts are used in combination to generate `.vtt` subtitle files from input audiovisual sources. [vid2watson.sh](https://github.com/WSU-CDSC/microservices/blob/master/vid2watson.sh) is responsible for the first part of the process, sending a source file to IBM Watson for transcription, and storing the raw output. [watson2vtt.rb](https://github.com/WSU-CDSC/microservices/blob/master/watson2vtt.rb) takes the `.json` file generated by `vid2watson.sh` and parses it into a `.vtt` transcript file, with text broken up into four second segments.

## Usage

To use, first you will need to create an account on the IBM Watson service. Then, line 13 of `vid2watson.sh`

`curl -X POST -u USERNAME:PASSWORD \`

must be modified with the Username and Password keys that are associated with your Watson account.

After setting up your credentials, simply run the script with an A/V file as an input like, `vid2watson.sh myinput.mp4`. The script will automatically create a directory and store the outputs of Watson.

Once the first script has completed, take the `.json` file that was created by the process and parse it with the second script in the manner of `watson2vtt.rb myinput.rb`.

This will create a `.vtt` file with the same name as the input. This can be viewed alongside its corresponding video if it is in the same directory and has the same name as its source. Simply open the video in a program like [VLC](https://www.videolan.org/vlc/index.html) and the subtitle track should load automatically. 


